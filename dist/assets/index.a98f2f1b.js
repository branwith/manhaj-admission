import{l as e,y as t,C as n,a as l,b as a,A as s,c as i,d as o,e as r,N as c}from"./vendor.0bf7dac8.js";let d=document.createElement("div");var u;let m=new Image;function g(o){let r=document.createElement("input");const[c,g]=e(!1),[v,f]=e(null),[h,w]=e(null),[b,C]=e(null),[I,N]=e(null),[k,y]=e(null);e(null),m.src="./frame.png",m.onload=()=>{f(1)};let z=new Image;z.src=h,z.onload=()=>{C(1)};let A,E=document.createElement("canvas"),L=E.getContext("2d");function H(){return l(a,null,k&&l("div",{onClick:()=>{y(!1)},className:"preview"},l("img",{src:I,alt:"",srcset:""})))}return E.width=500,E.height=500,t((()=>{v&&b?(L.drawImage(z,75,58.5),L.drawImage(m,0,0),N(E.toDataURL("image/jpeg"))):console.log(v,b)}),[b]),r.type="file",r.onchange=()=>{let e=r.files[0],t=new FileReader;t.readAsDataURL(e),t.onload=()=>{A=t.result,g(!0),u=new n(d,{url:A,enableOrientation:!0,viewport:{height:368,width:368,type:"circle"}})}},l(a,null,l("div",{style:{backgroundImage:`url(${m.src?m.src:""})`},className:"Header"}),l("div",{className:"Cont"},l("h1",null,"Generate Poster"),l("div",{className:"Actions"},l("button",{onClick:()=>{r.click()}},l(s,{size:"30"}))),I&&l("div",{className:"GetAct"},l("a",{href:I,download:"campaign poster"},l("button",null,l(i,{size:"40"}))))),l("div",{ref:e=>{e&&(e.innerHTML="")}}),l(H,null),l(p,{setCroppedImg:w,visible:c,set:g}))}function p({visible:e,set:t,setCroppedImg:n}){return l("div",{className:e?"vi":"hi"},l("div",{ref:e=>{e&&(e.innerHTML="",e.append(d))},className:"Crop"}),l("div",{className:"Tools"},l("button",{onClick:()=>{u.destroy(),t(!1)}},l(o,{size:"30"})),l("button",{onClick:()=>{u.result().then((e=>{n(e),u.destroy(),t(!1)}))}},l(r,{size:"30"}))))}c(l(g,null),document.getElementById("app"));
